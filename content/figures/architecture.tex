\begin{figure}
  \centering

  % This Figure was originally made using tikzit.
  % This code throws together all necessary styles usually spread across files exported from tikzit. ¯\_(ツ)_/¯
  \tikzstyle{tikzfig}=[baseline=-0.25em,scale=0.5]
  \tikzstyle{every picture}=[tikzfig]

  \begin{tikzpicture}
    % Node styles
    \tikzstyle{taskstep}=[fill=white, draw=black, shape=circle]
    \tikzstyle{processstep}=[fill=white, draw=black, shape=circle, text width=1.5cm, align=center]
    \tikzstyle{process}=[draw=black, shape=rectangle, text width=20mm, text depth=28mm, align=left, anchor=north]
    \tikzstyle{component}=[fill=white, draw=black, shape=rectangle, text width=15mm, align=center]

    % Edge styles
    \tikzstyle{line}=[->, line width=0.35mm]
    \tikzstyle{dashedline}=[->, line width=0.35mm, dashed]
    \tikzstyle{biline}=[<->, line width=0.35mm]
    \tikzstyle{dashedbiline}=[<->, line width=0.35mm, dashed]

    % Layers
    \pgfdeclarelayer{edgelayer}
    \pgfdeclarelayer{nodelayer}
    \pgfsetlayers{background,edgelayer,nodelayer,main}

    \begin{pgfonlayer}{nodelayer}
      \node [style=process] (0) at (-5, 2) {\small{vscode}};
      \node [style=component] (1) at (-5, 0) {\small{js-debug Extension}};
      \node [style=component, below of=1, node distance=14mm] (2) {\small{RxJS Debugger Extension}};

      \node [style=component, right of=1, node distance=30mm] (3) {\small{js-debug Adapter}};

      \node [style=process] (4) at (7, 2) {\small{Node.js}};
      \node [style=component, right of=3, node distance=30mm] (5) {\small{RxJS Program}};
      \node [style=component, below of=5, node distance=14mm] (6) {\small{Telemetry}};
    \end{pgfonlayer}

    \begin{pgfonlayer}{edgelayer}
      \path (1) edge[style=biline] node[above, font=\tiny, pos=0.5] {DAP} (3);
      \path (3) edge[style=biline] node[above, font=\tiny, pos=0.5] {CDP} (4.75, 0);
      \draw [style=dashedbiline] (2.east) -- (-2, -2.8) -- (-2, -0.5) -- (4, -0.5) -- (4, -2.8) -- (6.west);
      \draw [style=biline] (6) to (5);
    \end{pgfonlayer}
  \end{tikzpicture}

  \caption{The \emph{Telemetry} component instruments the \emph{RxJS program} (right). The \emph{RxJS Debugger Extension} runs inside of the vscode process. The two components communicate with each other by reusing the CDP communication channel established by \emph{js-debug}.}
  \label{fig:architecture}
\end{figure}
